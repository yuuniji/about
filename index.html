<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¶æ³½ä¼Ÿçš„ä½œå“é›†</title>
    <style>
        /* ===== Base Styles ===== */
        body {
            font-family: Menlo, Monaco, 'Courier New', monospace;
            margin: 0;
            padding: 0;
            background: #f5f7fa;
            color: #23272e;
            min-height: 100vh;
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s, color 0.3s;
            position: relative;
            overflow: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-size: clamp(15px, 2.5vw, 18px);
        }

        /* ===== Particles Background ===== */
        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        /* ===== Language Switcher ===== */
        .lang-switcher {
            position: fixed;
            top: 18px;
            left: 32px;
            z-index: 10;
        }

        .lang-switcher button {
            background: none;
            border: none;
            color: #0066cc;
            font-size: clamp(14px, 2vw, 16px);
            margin: 0 8px;
            cursor: pointer;
            text-decoration: underline;
            font-family: inherit;
            transition: color 0.2s, background 0.2s;
            padding: 8px 14px;
            border-radius: 6px;
        }

        .lang-switcher button:hover,
        .lang-switcher button:focus {
            color: #fff;
            background: #4dabff;
            text-decoration: none;
            outline: none;
        }

        /* ===== Terminal Window ===== */
        .terminal-window {
            position: relative;
            z-index: 2;
            background: rgba(255, 255, 255, 0.95);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            box-shadow:
                0 2px 4px rgba(0, 0, 0, 0.02),
                0 4px 8px rgba(0, 0, 0, 0.02),
                0 8px 16px rgba(0, 0, 0, 0.02),
                0 16px 32px rgba(0, 0, 0, 0.02),
                0 0 0 1px rgba(0, 0, 0, 0.05);
            max-width: 1120px;
            width: 95vw;
            margin: 12px auto;
            overflow: hidden;
            border: 1.5px solid rgba(224, 227, 231, 0.8);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
            will-change: transform, opacity;
            animation: terminalAppear 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            height: 85vh;
            max-height: 85vh;
            min-height: 180px;
        }

        /* ===== Terminal Bar ===== */
        .terminal-bar {
            background: #f5f7fa;
            height: 36px;
            display: flex;
            align-items: center;
            padding: 0 18px;
            border-bottom: 1px solid #e0e3e7;
            position: relative;
            transition: background 0.3s, border-color 0.3s;
        }

        .mac-btn {
            display: inline-block;
            width: 13px;
            height: 13px;
            border-radius: 50%;
            margin-right: 7px;
            border: 1px solid rgba(0, 0, 0, 0.08);
            transition: transform 0.2s, opacity 0.2s;
        }

        .mac-btn:hover {
            transform: scale(1.1);
            opacity: 0.8;
        }

        .mac-btn-group {
            display: flex;
            align-items: center;
            gap: 7px;
            position: absolute;
            left: 18px;
            z-index: 3;
        }

        .mac-btn-group.placeholder {
            width: 47px;
            min-width: 47px;
            max-width: 47px;
            visibility: hidden;
            pointer-events: none;
            margin-right: 0;
        }

        .mac-close {
            background: #ff5f56;
        }

        .mac-min {
            background: #ffbd2e;
        }

        .mac-max {
            background: #27c93f;
            margin-right: 0;
        }

        /* ===== Terminal Content ===== */
        .terminal-content {
            padding: 24px 16px 20px 16px;
            position: relative;
            transition: padding 0.3s;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
            flex-grow: 1;
            min-height: 0;
            /* å…³é”®ï¼Œé˜²æ­¢æ’‘å¤§çˆ¶å®¹å™¨ */
        }

        .terminal-content::-webkit-scrollbar {
            width: 8px;
        }

        .terminal-content::-webkit-scrollbar-track {
            background: transparent;
        }

        .terminal-content::-webkit-scrollbar-thumb {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }

        /* ===== Terminal Title ===== */
        .terminal-title {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            font-size: 16px;
            font-family: inherit;
            font-weight: 500;
            color: #23272e;
            background: transparent;
            border: none;
            letter-spacing: 0.5px;
            text-shadow: none;
            user-select: text;
            z-index: 2;
            height: 100%;
            display: flex;
            align-items: center;
            white-space: nowrap;
            text-overflow: ellipsis;
            opacity: 1;
            padding: 0 8px;
        }

        /* ===== Clock ===== */
        .clock {
            position: absolute;
            right: 18px;
            font-size: 14px;
            color: #666;
            font-family: inherit;
            white-space: nowrap;
            transition: all 0.3s ease;
            z-index: 3;
        }

        /* ===== Terminal Cursor ===== */
        .terminal-cursor {
            display: inline-block;
            width: 0.85em;
            height: 1.1em;
            background: none;
            color: #27c93f;
            font-weight: bold;
            font-size: 1em;
            animation: blink 1s steps(1) infinite;
            vertical-align: middle;
            transition: color 0.3s;
            will-change: opacity;
        }

        /* ===== Terminal History ===== */
        .terminal-history {
            font-family: 'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace;
            font-size: 15px;
            color: #e3e5e8;
            background: transparent;
            padding: 0;
            margin: 0;
            min-height: 220px;
            line-height: 1.6;
            letter-spacing: 0.01em;
            overflow-y: visible;
        }

        /* ===== Responsive Link List (Projects/Blog) ===== */
        .link-list {
            display: table;
            width: 100%;
            table-layout: fixed;
            margin: 10px 0 18px 0;
        }

        .link-row {
            display: table-row;
        }

        .link-item {
            display: table-cell;
            width: 50%;
            vertical-align: top;
            padding-right: 16px;
        }

        .link-item {
            display: table-cell;
            width: 50%;
            vertical-align: top;
            padding-right: 16px;
        }

        .link-item .link-flex {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .link-flex .project-link {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px 0 0 4px;
            background: none;
            color: #0056b3;
            transition: background 0.15s, color 0.15s;
            text-decoration: none;
            font-size: 15px;
        }

        .link-flex .repo-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 1.8em;
            height: 1.8em;
            margin-left: 0;
            color: #888;
            background: none;
            border-radius: 0 4px 4px 0;
            transition: background 0.15s, color 0.15s;
        }

        .link-flex:hover .project-link,
        .link-flex:focus-within .project-link,
        .link-flex:hover .repo-link,
        .link-flex:focus-within .repo-link {
            background: #eaf6ff;
            color: #23272e;
        }

        .link-flex .project-link:focus,
        .link-flex .repo-link:focus {
            background: #eaf6ff;
            color: #23272e;
            outline: 1.5px solid #4dabff;
        }

        @media (prefers-color-scheme: dark) {

            .link-flex:hover .project-link,
            .link-flex:focus-within .project-link,
            .link-flex:hover .repo-link,
            .link-flex:focus-within .repo-link {
                background: #253040;
                color: #e3e5e8;
            }

            .link-flex .project-link:focus,
            .link-flex .repo-link:focus {
                background: #253040;
                color: #e3e5e8;
                outline: 1.5px solid #4dabff;
            }
        }

        .link-item a {
            display: block;
            width: 100%;
            box-sizing: border-box;
            word-break: break-all;
        }

        .repo-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 1.8em;
            height: 1.8em;
            margin-left: 2px;
            color: #888;
            background: none;
            border-radius: 50%;
            transition: background 0.18s, color 0.18s;
        }

        .repo-link:hover {
            background: #eaf6ff;
            color: #23272e;
        }

        @media (max-width: 700px) {
            .link-list {
                display: block;
            }

            .link-row {
                display: block;
            }

            .link-item {
                display: block;
                width: 100%;
                padding-right: 0;
            }
        }

        @media (max-width: 700px) {
            .link-list {
                display: block;
            }

            .link-row {
                display: block;
            }

            .link-item {
                display: block;
                width: 100%;
                padding-right: 0;
            }
        }

        /* ===== Terminal Row Styles ===== */
        .term-row {
            display: flex;
            align-items: flex-start;
            margin-bottom: 8px;
            padding: 2px 0;
            word-break: break-all;
            opacity: 0;
            transform: translateY(16px);
            will-change: transform, opacity;
            animation: rowAppear 0.5s cubic-bezier(0.43, 0.13, 0.23, 0.96) forwards;
            transition: background 0.2s, box-shadow 0.2s;
            border-radius: 4px;
        }

        /* é»˜è®¤é«˜äº®ï¼ˆäº®è‰²ï¼‰ */
        .term-row:focus-within,
        .term-row:focus {
            background: #eaf6ff;
            outline: 1.5px solid #4dabff;
            box-shadow: none;
            transition: background 0.22s cubic-bezier(0.4, 0, 0.2, 1), outline-color 0.22s cubic-bezier(0.4, 0, 0.2, 1), outline-width 0.22s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* æ·±è‰²æ¨¡å¼é«˜äº® */
        @media (prefers-color-scheme: dark) {

            .term-row:focus-within,
            .term-row:focus {
                background: #253040;
                outline: 1.5px solid #4dabff;
            }
        }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 600px) {
            .term-row {
                margin-bottom: 4px;
                font-size: 14px;
                padding: 1px 0;
            }

            .term-row:focus-within,
            .term-row:focus {
                background: #eaf6ff;
                outline: 1.5px solid #4dabff;
            }

            /* ç§»åŠ¨ç«¯æ·±è‰²æ¨¡å¼é«˜äº® */
            @media (prefers-color-scheme: dark) {

                .term-row:focus-within,
                .term-row:focus {
                    background: #253040;
                    outline: 1.5px solid #4dabff;
                    transition: background 0.22s cubic-bezier(0.4, 0, 0.2, 1), outline-color 0.22s cubic-bezier(0.4, 0, 0.2, 1), outline-width 0.22s cubic-bezier(0.4, 0, 0.2, 1);
                }
            }
        }

        .term-prompt {
            color: #27c93f;
            font-weight: bold;
            margin-right: 7px;
            flex-shrink: 0;
            user-select: none;
            transition: color 0.3s;
        }

        .term-cmd {
            color: #23272e;
            font-weight: 500;
            transition: color 0.3s;
        }

        .term-output {
            color: #0056b3;
            margin-left: 28px;
            white-space: pre-line;
            word-break: break-all;
            transition: color 0.3s, margin 0.3s;
        }

        .term-output a {
            color: #0056b3;
            text-decoration: none;
            margin-right: 18px;
            font-size: 15px;
            position: relative;
            padding: 2px 6px;
            border-radius: 4px;
            display: inline-block;
            background: none;
            outline: none;
            transition: background 0.15s, color 0.15s, box-shadow 0.15s;
        }

        .term-output a:hover,
        .term-output a:focus {
            background: #eaf6ff;
            color: #23272e;
            text-decoration: none;
            box-shadow: 0 0 0 1.5px #4dabff;
            outline: none;
        }

        .term-output a::before {
            content: attr(data-index);
            position: absolute;
            left: -20px;
            color: #666;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.15s;
        }

        .term-output a:hover::before,
        .term-output a:focus::before {
            opacity: 1;
        }

        /* ===== Navigation Hint ===== */
        .nav-hint {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
            z-index: 1000;
            will-change: opacity;
        }

        .nav-hint.visible {
            opacity: 1;
        }

        /* ===== Animations ===== */
        @keyframes terminalAppear {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInParticles {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes blink {

            0%,
            50% {
                opacity: 1;
            }

            51%,
            100% {
                opacity: 0;
            }
        }

        @keyframes rowAppear {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== Dark Mode Styles ===== */
        @media (prefers-color-scheme: dark) {
            body {
                background: #23272e;
                color: #e3e5e8;
            }

            .terminal-window {
                background: rgba(24, 24, 24, 0.97);
                box-shadow:
                    0 2px 4px rgba(0, 0, 0, 0.14),
                    0 4px 8px rgba(0, 0, 0, 0.14),
                    0 8px 16px rgba(0, 0, 0, 0.14),
                    0 16px 32px rgba(0, 0, 0, 0.14),
                    0 0 0 1px rgba(255, 255, 255, 0.07);
                border: 1.5px solid rgba(255, 255, 255, 0.13);
            }

            .terminal-bar {
                background: #1a1a1a;
                border-bottom: 1px solid rgba(255, 255, 255, 0.13);
            }

            .terminal-title {
                color: #e3e5e8;
            }

            .lang-switcher button {
                color: #4dabff;
            }

            .lang-switcher button:hover,
            .lang-switcher button:focus {
                color: #23272e;
                background: #4dabff;
            }

            .clock {
                color: #bdbdbd;
            }

            .terminal-content::-webkit-scrollbar-thumb {
                background-color: rgba(255, 255, 255, 0.2);
            }

            .term-output a::before {
                color: #bdbdbd;
            }

            .term-output a:hover,
            .term-output a:focus {
                background: #253040;
                color: #4dabff;
                box-shadow: 0 0 0 1.5px #4dabff;
            }

            .term-row:focus-within,
            .term-row:focus {
                background: #253040;
                outline: 1.5px solid #4dabff;
            }

            .term-cmd {
                color: #e3e5e8;
            }

            .nav-hint {
                background: rgba(77, 171, 255, 0.13);
                color: #4dabff;
                border-color: rgba(77, 171, 255, 0.23);
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.22);
            }
        }

        @media (prefers-reduced-motion: reduce) {

            *,
            *::before,
            *::after {
                transition: none !important;
                animation-duration: 0.001s !important;
                animation-iteration-count: 1 !important;
            }
        }

        /* ===== Responsive Styles ===== */
        @media (max-width: 900px) {
            .terminal-window {
                max-width: 98vw;
                width: 98vw;
                margin: 12px auto;
                border-radius: 10px;
            }

            .terminal-title {
                font-size: 15px;
            }

            .clock {
                font-size: 13px;
            }

            .lang-switcher {
                top: 10px;
                left: 10px;
            }
        }

        @media (max-width: 768px) {
            .terminal-title {
                font-size: 15px;
                max-width: calc(100% - 160px);
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .clock {
                right: 80px;
                font-size: 12px;
            }
        }

        @media (max-width: 600px) {
            .terminal-window {
                margin: 4px auto;
                width: 100vw;
                border-radius: 7px;
                min-height: 90px;
                /* height: 97vh; */
                max-height: 97vh;
            }

            .terminal-content {
                padding: 8px 3vw;
                min-height: 0;
            }

            .terminal-bar {
                height: 30px;
                padding: 0 8px;
            }

            .mac-btn {
                width: 10px;
                height: 10px;
                margin-right: 4px;
            }

            .mac-btn-group {
                left: 8px;
            }

            .terminal-title {
                font-size: 13px;
            }

            .clock {
                right: 8px;
                font-size: 11px;
            }

            .lang-switcher {
                top: 4px;
                left: 4px;
            }

            .term-output a::before {
                left: -16px;
                font-size: 11px;
            }

            .term-output a:hover,
            .term-output a:focus {
                background: #eaf6ff;
                color: #23272e;
                box-shadow: 0 0 0 1.5px #4dabff;
            }

            .term-row:focus-within,
            .term-row:focus {
                background: #eaf6ff;
                outline: 1.5px solid #4dabff;
            }

            .nav-hint {
                font-size: 12px;
                padding: 6px 12px;
                bottom: 10px;
            }
        }

        @media (max-width: 400px) {
            .terminal-window {
                margin: 2px auto;
                width: 100vw;
                border-radius: 4px;
            }

            .terminal-content {
                padding: 5px 1vw;
            }

            .terminal-bar {
                height: 24px;
                padding: 0 4px;
            }

            .mac-btn {
                width: 9px;
                height: 9px;
                margin-right: 3px;
            }

            .mac-btn-group {
                left: 4px;
            }

            .terminal-title {
                font-size: 10px;
            }

            .clock {
                right: 4px;
                font-size: 9px;
            }

            .lang-switcher {
                top: 2px;
                left: 2px;
            }
        }

        @media (max-width: 320px) {
            .terminal-title {
                font-size: 9px;
                max-width: calc(100% - 10px);
            }

            .clock {
                display: none;
            }
        }

        /* ===== Safari Specific Styles ===== */
        @supports (-webkit-touch-callout: none) {
            .terminal-window {
                background: rgba(255, 255, 255, 0.98);
            }

            @media (prefers-color-scheme: dark) {
                .terminal-window {
                    background: rgba(24, 24, 24, 0.98);
                }
            }
        }
    </style>
</head>

<body>
    <div id="particles-js" style="opacity:0;"></div>
    <div class="lang-switcher">
        <button onclick="changeLanguage('zh')">ä¸­æ–‡</button>
        <button onclick="changeLanguage('en')">English</button>
        <button onclick="changeLanguage('ja')">æ—¥æœ¬èª</button>
    </div>

    <div class="terminal-window">
        <div class="terminal-bar">
            <div class="mac-btn-group">
                <div class="mac-btn mac-close"></div>
                <div class="mac-btn mac-min"></div>
                <div class="mac-btn mac-max"></div>
            </div>
            <div id="title" class="terminal-title">å¶æ³½ä¼Ÿçš„ä½œå“é›†</div>
            <div id="clock" class="clock"></div>
        </div>
        <div class="terminal-content">
            <div id="terminal-history"></div>
        </div>
    </div>

    <div id="nav-hint" class="nav-hint"></div>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // å…¨å±€JSé”™è¯¯æ•è·ï¼Œæ–¹ä¾¿è°ƒè¯•
        window.onerror = function (msg, url, line, col, error) {
            alert('JSé”™è¯¯: ' + msg + '\n' + url + ':' + line + (col ? (':' + col) : ''));
            return false;
        }
    </script>
    <script>
        // åˆå§‹åŒ–ç²’å­åŠ¨ç”»
        particlesJS('particles-js', {
            particles: {
                number: {
                    value: 80,
                    density: {
                        enable: true,
                        value_area: 800
                    }
                },
                color: {
                    value: '#27c93f'
                },
                shape: {
                    type: 'circle'
                },
                opacity: {
                    value: 0.5,
                    random: true,
                    anim: {
                        enable: true,
                        speed: 1,
                        opacity_min: 0.1,
                        sync: false
                    }
                },
                size: {
                    value: 3,
                    random: true
                },
                line_linked: {
                    enable: true,
                    distance: 150,
                    color: '#27c93f',
                    opacity: 0.4,
                    width: 1
                },
                move: {
                    enable: true,
                    speed: 2,
                    direction: 'none',
                    random: true,
                    straight: false,
                    out_mode: 'out',
                    bounce: false
                }
            },
            interactivity: {
                detect_on: 'canvas',
                events: {
                    onhover: {
                        enable: true,
                        mode: 'grab'
                    },
                    onclick: {
                        enable: true,
                        mode: 'push'
                    },
                    resize: true
                },
                modes: {
                    grab: {
                        distance: 140,
                        line_linked: {
                            opacity: 1
                        }
                    },
                    push: {
                        particles_nb: 4
                    }
                }
            },
            retina_detect: true
        });

        // ç²’å­åŠ¨ç”»æ·¡å…¥æ•ˆæœ
        setTimeout(() => {
            const particlesBg = document.getElementById('particles-js');
            if (particlesBg) {
                particlesBg.style.transition = 'opacity 1.3s cubic-bezier(0.4,0,0.2,1)';
                particlesBg.style.opacity = '1';
                particlesBg.style.animation = 'fadeInParticles 1.3s cubic-bezier(0.4,0,0.2,1)';
            }
        }, 200);

        // æ ¹æ®ç³»ç»Ÿä¸»é¢˜åˆ‡æ¢ç²’å­é¢œè‰²ï¼Œå¹¶å¹³æ»‘è¿‡æ¸¡
        function updateParticleColor(isDark) {
            const color = isDark ? '#4dabff' : '#27c93f';
            const particles = window.pJSDom[0].pJS.particles;
            particles.color.value = color;
            particles.line_linked.color = color;
            window.pJSDom[0].pJS.fn.particlesRefresh();
        }
        const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkModeMediaQuery.addEventListener('change', (e) => {
            updateParticleColor(e.matches);
        });
        updateParticleColor(darkModeMediaQuery.matches);

        // Data for projects and blog posts
        const data = {
            projects: [
                {
                    url: "https://yuuniji.github.io/fitplan/",
                    repo: "https://github.com/yuuniji/fitplan",
                    label: {
                        zh: "ğŸ’ª å¢è‚Œè®¡åˆ’",
                        en: "ğŸ’ª FitPlan",
                        ja: "ğŸ’ª ç­‹ãƒˆãƒ¬è¨ˆç”»"
                    }
                },
                {
                    url: "https://yuuniji.github.io/smart-tooltip/",
                    repo: "https://github.com/yuuniji/smart-tooltip",
                    label: {
                        zh: "ğŸ’¡ æ³¨é‡Šç³»ç»Ÿ",
                        en: "ğŸ’¡ Tooltip",
                        ja: "ğŸ’¡ ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—"
                    }
                },
                {
                    url: "https://yuuniji.github.io/",
                    repo: "https://github.com/yuuniji/yuuniji.github.io",
                    label: {
                        zh: "ğŸŒ åšå®¢",
                        en: "ğŸŒ Blog",
                        ja: "ğŸŒ ãƒ–ãƒ­ã‚°"
                    }
                },
                {
                    url: "https://yuuniji.github.io/about/",
                    repo: "https://github.com/yuuniji/about",
                    label: {
                        zh: "ğŸ‘¤ ç®€ä»‹",
                        en: "ğŸ‘¤ About",
                        ja: "ğŸ‘¤ ç´¹ä»‹"
                    }
                }
            ],
            blog: [
                {
                    url: "https://yuuniji.github.io/series/reading-log/",
                    label: {
                        zh: "ğŸ“š é˜…è¯»æ—¥å¿—",
                        en: "ğŸ“š Reading Log",
                        ja: "ğŸ“š èª­æ›¸ãƒ­ã‚°"
                    }
                },
                {
                    url: "https://yuuniji.github.io/series/how-to-master-python/",
                    label: {
                        zh: "ğŸ Python",
                        en: "ğŸ Python",
                        ja: "ğŸ Python"
                    }
                },
                {
                    url: "https://yuuniji.github.io/series/how-to-master-japanese/",
                    label: {
                        zh: "ğŸˆ¶ æ—¥è¯­å­¦ä¹ ",
                        en: "ğŸˆ¶ Japanese",
                        ja: "ğŸˆ¶ æ—¥æœ¬èª"
                    }
                },
                {
                    url: "https://yuuniji.github.io/posts/it-a/",
                    label: {
                        zh: "ğŸ“ åšå®¢æ­å»º",
                        en: "ğŸ“ Blog Setup",
                        ja: "ğŸ“ ãƒ–ãƒ­ã‚°æ§‹ç¯‰"
                    }
                }
            ]
        };

        // Translations for static text (title and headings)
        const translations = {
            zh: {
                title: "å¶æ³½ä¼Ÿçš„ä½œå“é›†",
                projectsHeading: "é¡¹ç›®",
                blogHeading: "åšå®¢"
            },
            en: {
                title: "Zewei Ye's Portfolio",
                projectsHeading: "Projects",
                blogHeading: "Blog"
            },
            ja: {
                title: "è‘‰æ¾¤å‰ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª",
                projectsHeading: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ",
                blogHeading: "ãƒ–ãƒ­ã‚°"
            }
        };

        // Function to render the content based on language
        function renderContent(lang) {
            const content = translations[lang];

            // Update page title
            document.title = content.title;
            // Terminal titleæ æ˜¾ç¤ºï¼ˆå¸¦å…‰æ ‡ï¼‰
            const titleEl = document.getElementById('title');
            titleEl.setAttribute('title', content.title);
            titleEl.innerHTML = `${content.title}<span class="terminal-cursor">â–‹</span>`;

            // æ¸²æŸ“ç»ˆç«¯å†å²
            renderTerminalHistory(lang);
        }

        // ä»¿ç»ˆç«¯å‘½ä»¤å†å²é€»è¾‘
        // å…¨å±€å˜é‡ç”¨äºç»ˆæ­¢åŠ¨ç”»
        let terminalHistoryTimer = null;
        // fallbackMode: trueæ—¶ç›´æ¥è¾“å‡ºå…¨éƒ¨å†…å®¹ï¼Œæ— åŠ¨ç”»
        function renderTerminalHistory(lang, fallbackMode) {
            const historyEl = document.getElementById('terminal-history');
            historyEl.innerHTML = '';
            if (terminalHistoryTimer) {
                clearTimeout(terminalHistoryTimer);
                terminalHistoryTimer = null;
            }
            // fallback: è‹¥å¼‚å¸¸ç›´æ¥å…¨éƒ¨è¾“å‡º
            try {
                const dirNames = {
                    zh: { project: 'é¡¹ç›®', blog: 'åšå®¢' },
                    en: { project: 'Projects', blog: 'Blog' },
                    ja: { project: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ', blog: 'ãƒ–ãƒ­ã‚°' }
                };
                const dirs = dirNames[lang];
                const prompt = '<span class="term-prompt" aria-hidden="true">âœ ~ %</span>';
                const promptProjects = `<span class="term-prompt" aria-hidden="true">âœ ${dirs.project} %</span>`;
                const promptBlog = `<span class="term-prompt" aria-hidden="true">âœ ${dirs.blog} %</span>`;

                // å†å²æ­¥éª¤
                // ä»…ç”¨äººåä½œä¸ºç‰ˆæƒå£°æ˜å†…å®¹
                const nameText = {
                    zh: 'å¶æ³½ä¼Ÿ',
                    en: 'Zewei Ye',
                    ja: 'è‘‰æ¾¤å‰'
                };
                const copyrightText = {
                    zh: `Â© 2025 <a href="https://github.com/yuuniji" target="_blank" style="color:#888;text-decoration:none;">${nameText.zh}</a> ç‰ˆæƒæ‰€æœ‰`,
                    en: `Â© 2025 <a href="https://github.com/yuuniji" target="_blank" style="color:#888;text-decoration:none;">${nameText.en}</a>. All rights reserved.`,
                    ja: `Â© 2025 <a href="https://github.com/yuuniji" target="_blank" style="color:#888;text-decoration:none;">${nameText.ja}</a> å…¨è‘—ä½œæ¨©æ‰€æœ‰`
                };

                const steps = [
                    { type: 'cmd', prompt, cmd: 'ls', ariaLabel: 'List directories' },
                    { type: 'output', output: `<a href="https://github.com/yuuniji" target="_blank" aria-label="${dirs.project} homepage" data-index="1">${dirs.project}</a>  <a href="https://yuuniji.github.io/" target="_blank" aria-label="${dirs.blog} homepage" data-index="2">${dirs.blog}</a>` },
                    { type: 'cmd', prompt: promptProjects, cmd: `cd ~/${dirs.project} && ls`, ariaLabel: `Change to ${dirs.project} directory and list contents` },
                    {
                        type: 'output', output: `<div class=\"link-list\">` +
                            data.projects.reduce((acc, prj, idx, arr) => {
                                if (idx % 2 === 0) acc += '<div class=\"link-row\">';
                                acc += `<div class=\"link-item\"><span class=\"link-flex\"><a class=\"project-link\" href=\"${prj.url}\" target=\"_blank\" aria-label=\"${dirs.project}ï¼š${prj.label[lang]}ï¼Œæ–°çª—å£æ‰“å¼€\" data-index=\"${idx + 1}\">${prj.label[lang]}</a><a href=\"${prj.repo}\" target=\"_blank\" class=\"repo-link\" aria-label=\"${dirs.project}ï¼š${prj.label[lang]} çš„ GitHub æºç ï¼Œæ–°çª—å£æ‰“å¼€\"><svg width='16' height='16' viewBox='0 0 16 16' fill='currentColor' aria-hidden='true' style='vertical-align:-0.18em;'><path d='M8 1C4.13 1 1 4.13 1 8c0 3.07 2.06 5.64 4.93 6.54.36.07.49-.16.49-.35 0-.17-.01-.73-.01-1.33-2.01.37-2.53-.49-2.69-.94-.08-.21-.42-.94-.72-1.13-.25-.17-.6-.59-.01-.6.56-.01.96.52 1.09.74.64 1.08 1.67.77 2.08.59.06-.46.25-.77.45-.95-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.13 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.11.16 1.93.08 2.13.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.26.22.48.65.48 1.31 0 .95-.01 1.71-.01 1.94 0 .19.13.42.5.35C12.94 13.64 15 11.07 15 8c0-3.87-3.13-7-7-7z'/></svg></a></span></div>`;
                                if (idx % 2 === 1 || idx === arr.length - 1) acc += '</div>';
                                return acc;
                            }, '') + `</div>`
                    },
                    { type: 'cmd', prompt: promptBlog, cmd: `cd ~/${dirs.blog} && ls`, ariaLabel: `Change to ${dirs.blog} directory and list contents` },
                    {
                        type: 'output', output: `<div class=\"link-list\">` +
                            data.blog.reduce((acc, blog, idx, arr) => {
                                if (idx % 2 === 0) acc += '<div class=\"link-row\">';
                                acc += `<div class=\"link-item\"><a href=\"${blog.url}\" target=\"_blank\" aria-label=\"${dirs.blog}ï¼š${blog.label[lang]}ï¼Œæ–°çª—å£æ‰“å¼€\" data-index=\"${idx + 1}\">${blog.label[lang]}</a></div>`;
                                if (idx % 2 === 1 || idx === arr.length - 1) acc += '</div>';
                                return acc;
                            }, '') + `</div>`
                    },
                    // ç‰ˆæƒå£°æ˜ï¼ˆå¤šè¯­è¨€ï¼‰
                    { type: 'output', output: `<span style=\"color:#888;opacity:0.55;font-size:13px;\">${copyrightText[lang]}</span>` }
                ];

                if (fallbackMode) {
                    // ç›´æ¥è¾“å‡ºæ‰€æœ‰å†…å®¹ï¼Œæ— åŠ¨ç”»
                    steps.forEach(s => {
                        let row = document.createElement('div');
                        row.className = 'term-row';
                        if (s.type === 'cmd') {
                            row.innerHTML = s.prompt + ' <span class="term-cmd">' + s.cmd + '</span>';
                        } else {
                            row.innerHTML = `<div class="term-output" role="list">${s.output}</div>`;
                        }
                        historyEl.appendChild(row);
                    });
                    historyEl.scrollTop = historyEl.scrollHeight;
                    return;
                }
                let i = 0;
                function typeCommand(row, prompt, cmd, ariaLabel, cb) {
                    row.innerHTML = prompt + ' <span class="term-cmd" aria-label="' + ariaLabel + '"></span><span class="terminal-cursor" aria-hidden="true">â–‹</span>';
                    const cmdSpan = row.querySelector('.term-cmd');
                    const cursor = row.querySelector('.terminal-cursor');
                    let idx = 0;
                    // åŠ¨ç”»é€Ÿåº¦ï¼šç§»åŠ¨ç«¯æ›´æ…¢
                    let typeSpeed = window.innerWidth <= 600 ? 32 : 17;
                    function typeChar() {
                        if (idx <= cmd.length) {
                            cmdSpan.textContent = cmd.slice(0, idx);
                            cursor.style.display = 'inline-block';
                            historyEl.scrollTop = historyEl.scrollHeight;
                            idx++;
                            terminalHistoryTimer = setTimeout(typeChar, typeSpeed);
                        } else {
                            if (cursor && cursor.parentNode) cursor.parentNode.removeChild(cursor);
                            if (cb) cb();
                        }
                    }
                    typeChar();
                }

                function nextStep() {
                    if (i >= steps.length) return;
                    const s = steps[i];
                    let row = document.createElement('div');
                    row.className = 'term-row';
                    if (s.type === 'cmd') {
                        historyEl.appendChild(row);
                        typeCommand(row, s.prompt, s.cmd, s.ariaLabel, function () {
                            i++;
                            terminalHistoryTimer = setTimeout(nextStep, 120);
                        });
                    } else {
                        row.innerHTML = `<div class="term-output" role="list">${s.output}</div>`;
                        historyEl.appendChild(row);
                        historyEl.scrollTop = historyEl.scrollHeight;
                        i++;
                        terminalHistoryTimer = setTimeout(nextStep, 420);
                    }
                }
                nextStep();
            } catch (e) {
                historyEl.innerHTML = '<div style="color:red">å†…å®¹æ¸²æŸ“å¤±è´¥: ' + e.message + '</div>';
            }
        }

        // æ˜ŸæœŸç¿»è¯‘
        const weekdays = {
            zh: ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'],
            en: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
            ja: ['æ—¥æ›œæ—¥', 'æœˆæ›œæ—¥', 'ç«æ›œæ—¥', 'æ°´æ›œæ—¥', 'æœ¨æ›œæ—¥', 'é‡‘æ›œæ—¥', 'åœŸæ›œæ—¥']
        };

        // æ›´æ–°æ—¶é’Ÿ
        function updateClock(lang) {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const weekday = weekdays[lang][now.getDay()];
            const clockEl = document.getElementById('clock');
            clockEl.textContent = `${hours}:${minutes} ${weekday}`;
        }

        // å½“å‰è¯­è¨€å˜é‡
        let currentLang = 'zh';

        // ä¿®æ”¹å¯¼èˆªæç¤ºçš„ç¿»è¯‘
        const navHints = {
            zh: {
                hint: "æç¤ºï¼šä½¿ç”¨ Tab é”®åœ¨å…ƒç´ é—´å¯¼èˆªï¼Œä½¿ç”¨æ–¹å‘é”®ä¸Šä¸‹é€‰æ‹©é¡¹ç›®ï¼Œå›è½¦é”®ç¡®è®¤"
            },
            en: {
                hint: "Tip: Use Tab key to navigate between elements, use arrow keys to select items, press Enter to confirm"
            },
            ja: {
                hint: "ãƒ’ãƒ³ãƒˆï¼šTabã‚­ãƒ¼ã§è¦ç´ é–“ã‚’ç§»å‹•ã€çŸ¢å°ã‚­ãƒ¼ã§é …ç›®ã‚’é¸æŠã€Enterã‚­ãƒ¼ã§ç¢ºå®š"
            }
        };

        // ä¿®æ”¹è¯­è¨€åˆ‡æ¢å‡½æ•°
        function changeLanguage(lang) {
            currentLang = lang;
            // ä¿å­˜è¯­è¨€é€‰æ‹©åˆ° localStorage
            localStorage.setItem('preferredLanguage', lang);
            renderContent(lang);
            updateClock(lang);
            updateNavHint(lang);
        }

        // æ·»åŠ æ›´æ–°å¯¼èˆªæç¤ºçš„å‡½æ•°
        function updateNavHint(lang) {
            const hintEl = document.getElementById('nav-hint');
            hintEl.textContent = navHints[lang].hint;
            hintEl.classList.add('visible');

            // 5ç§’åéšè—æç¤º
            setTimeout(() => {
                hintEl.classList.remove('visible');
            }, 5000);
        }

        // ä¿®æ”¹åˆå§‹åŒ–å‡½æ•°ï¼Œç¡®ä¿åœ¨ Safari ä¸­æ­£ç¡®åŠ è½½
        function init() {
            // ç¡®ä¿ DOM å®Œå…¨åŠ è½½
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initializeContent);
            } else {
                initializeContent();
            }
        }

        function initializeContent() {
            // è·å–æµè§ˆå™¨è¯­è¨€
            const browserLang = navigator.language || navigator.userLanguage;
            // ä» localStorage è·å–ä¿å­˜çš„è¯­è¨€è®¾ç½®
            let savedLang = localStorage.getItem('preferredLanguage');

            // è¯­è¨€æ˜ å°„è¡¨ï¼ˆå°†æµè§ˆå™¨è¯­è¨€ä»£ç æ˜ å°„åˆ°æˆ‘ä»¬çš„æ”¯æŒçš„è¯­è¨€ï¼‰
            const langMap = {
                'zh': 'zh',
                'zh-CN': 'zh',
                'zh-TW': 'zh',
                'zh-HK': 'zh',
                'en': 'en',
                'en-US': 'en',
                'en-GB': 'en',
                'ja': 'ja',
                'ja-JP': 'ja'
            };

            // è·å–æµè§ˆå™¨è¯­è¨€çš„åŸºç¡€ä»£ç ï¼ˆä¾‹å¦‚ 'zh-CN' -> 'zh'ï¼‰
            const baseLang = browserLang.split('-')[0];

            // æ£€æŸ¥localStorageéæ³•è¯­è¨€ä»£ç 
            if (savedLang && !['zh', 'en', 'ja'].includes(savedLang)) {
                localStorage.removeItem('preferredLanguage');
                savedLang = null;
            }

            // ç¡®å®šåˆå§‹è¯­è¨€
            let initialLang;
            if (savedLang) {
                initialLang = savedLang;
            } else if (langMap[browserLang]) {
                initialLang = langMap[browserLang];
            } else if (langMap[baseLang]) {
                initialLang = langMap[baseLang];
            } else {
                initialLang = 'zh';
            }

            currentLang = initialLang;
            // ä¿®å¤åˆæ¬¡è®¿é—®æ—¶æ˜ŸæœŸæ²¡æœ‰è·Ÿéšåˆå§‹è¯­è¨€æ˜¾ç¤º
            updateClock(currentLang);
            setInterval(() => updateClock(currentLang), 60000); // æ¯åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡

            // ç¡®ä¿åœ¨æ¸²æŸ“å†…å®¹ä¹‹å‰æ‰€æœ‰å¿…è¦çš„å…ƒç´ éƒ½å·²å­˜åœ¨
            const titleEl = document.getElementById('title');
            const historyEl = document.getElementById('terminal-history');
            const clockEl = document.getElementById('clock');

            if (titleEl && historyEl && clockEl) {
                try {
                    renderContent(initialLang);
                    updateNavHint(initialLang);
                    initializeKeyboardNavigation();
                    // fallback: å¦‚æœ1såå†…å®¹è¿˜æ²¡å‡ºæ¥ï¼Œç›´æ¥è¾“å‡ºå…¨éƒ¨å†…å®¹
                    setTimeout(function () {
                        if (!historyEl.innerHTML || historyEl.innerHTML.trim() === '') {
                            renderTerminalHistory(initialLang, true);
                        }
                    }, 1200);
                } catch (e) {
                    historyEl.innerHTML = '<div style="color:red">å†…å®¹æ¸²æŸ“å¤±è´¥: ' + e.message + '</div>';
                }
            } else {
                setTimeout(initializeContent, 100);
            }
        }

        function initializeKeyboardNavigation() {
            let currentFocusIndex = -1;
            const focusableElements = document.querySelectorAll('a, button');

            // æ·»åŠ é”®ç›˜äº‹ä»¶ç›‘å¬
            document.addEventListener('keydown', function (e) {
                // æ˜¾ç¤ºå¯¼èˆªæç¤º
                const hintEl = document.getElementById('nav-hint');
                hintEl.classList.add('visible');

                // é‡ç½®éšè—è®¡æ—¶å™¨
                clearTimeout(hintEl.hideTimer);
                hintEl.hideTimer = setTimeout(() => {
                    hintEl.classList.remove('visible');
                }, 5000);

                // Tab é”®å¯¼èˆª
                if (e.key === 'Tab') {
                    e.preventDefault();
                    const currentIndex = Array.from(focusableElements).indexOf(document.activeElement);
                    let nextIndex;

                    if (e.shiftKey) {
                        nextIndex = currentIndex > 0 ? currentIndex - 1 : focusableElements.length - 1;
                    } else {
                        nextIndex = currentIndex < focusableElements.length - 1 ? currentIndex + 1 : 0;
                    }

                    focusableElements[nextIndex].focus();
                    currentFocusIndex = nextIndex;
                }

                // æ–¹å‘é”®å¯¼èˆª
                if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {
                    e.preventDefault();
                    const links = document.querySelectorAll('.term-output a');

                    if (links.length === 0) return;

                    if (currentFocusIndex === -1) {
                        currentFocusIndex = e.key === 'ArrowDown' ? 0 : links.length - 1;
                    } else {
                        if (e.key === 'ArrowUp') {
                            currentFocusIndex = currentFocusIndex > 0 ? currentFocusIndex - 1 : links.length - 1;
                        } else {
                            currentFocusIndex = currentFocusIndex < links.length - 1 ? currentFocusIndex + 1 : 0;
                        }
                    }

                    links[currentFocusIndex].focus();
                }

                // å›è½¦é”®ç¡®è®¤
                if (e.key === 'Enter' && document.activeElement.tagName === 'A') {
                    document.activeElement.click();
                }

                // æ•°å­—é”®å¿«é€Ÿå¯¼èˆªï¼ˆä»…å½“é¡¹ç›®æ•°é‡å°äºç­‰äº9ä¸ªæ—¶ï¼‰
                if (e.key >= '1' && e.key <= '9') {
                    const num = parseInt(e.key);
                    const links = document.querySelectorAll('.term-output a');
                    if (num <= links.length && links.length <= 9) {
                        links[num - 1].focus();
                        links[num - 1].click();
                    }
                }
            });
        }

        // åˆå§‹åŒ–
        init();
    </script>
</body>

</html>